(function(){function ap(){return"ckeditor";}function d(au){return au.elementMode==3;}function an(au){return au.name.replace(/\[/,"_").replace(/\]/,"_");}function ar(au){return au.container.$;}function f(au){return au.document.$;}function ai(au){return au.getSnapshot();}function F(av,au){av.loadSnapshot(au);}function B(av){if(av.getSelection()==null){return null;}var au=av.getSelection().getStartElement();if(au&&au.$){return au.$;}return null;}function r(){return CKEDITOR.basePath;}function ab(){return b("jsplus_bootstrap_editor");}function b(au){return CKEDITOR.plugins.getPath(au);}function K(){return CKEDITOR.version.charAt(0)=="3"?3:4;}function A(){return"";}function aa(aw,av){if(K()==3){var au=(av.indexOf("jsplus_bootstrap_editor_")==-1)?("jsplus_bootstrap_editor_"+av):av;if(typeof(aw.lang[au])!=="undefined"){return aw.lang[au];}else{console.log("(v3) editor.lang['jsplus_bootstrap_editor'] not defined");}}else{if(typeof(aw.lang["jsplus_bootstrap_editor"])!=="undefined"){if(typeof(aw.lang["jsplus_bootstrap_editor"][av])!=="undefined"){return aw.lang["jsplus_bootstrap_editor"][av];}else{console.log("editor.lang['jsplus_bootstrap_editor']['"+av+"'] not defined");}}else{console.log("editor.lang['jsplus_bootstrap_editor'] not defined");}}return"";}function D(av,au){return M(av,"jsplus_bootstrap_editor_"+au);}function M(av,au){var aw=av.config[au];return aw;}function aj(au,av){aq("jsplus_bootstrap_editor_"+au,av);}function aq(au,av){CKEDITOR.config[au]=av;}function H(aw,av){var au=CKEDITOR.dom.element.createFromHtml(av);if(au.type==CKEDITOR.NODE_TEXT){aw.insertText(av);}else{aw.insertElement(au);}}function Q(){return"";}var R=0;var h=1;var ae=2;function o(au,ax,av){var aw=null;if(av==R){aw=CKEDITOR.TRISTATE_DISABLED;}else{if(av==h){aw=CKEDITOR.TRISTATE_OFF;}else{if(av==ae){aw=CKEDITOR.TRISTATE_ON;}}}if(aw!=null&&au.ui&&au.ui.get(ax)){au.ui.get(ax).setState(aw);}}function O(au,av){au.on("selectionChange",function(aw){av(aw.editor);});}function af(av,au,aw){if(au=="beforeGetOutputHTML"){av.on("toDataFormat",function(ax){return aw(av,ax.data.dataValue);},null,null,4);return;}if(au=="keyDown"){av.on("key",(function(){var ay=av;var ax=aw;return function(az){ax(ay,az.data.keyCode,az);};})());return;}av.on(au,(function(){var ax=av;return function(){aw(ax);};})());}function S(au){au.cancel();}function W(ax,au,aA,ay,az,aw,av){if(av&&av!=null&&M(ax,av)===true){aA+="_bw";}ax.addCommand(au,{exec:az});ax.ui.addButton(au,{title:aa(ax,ay.replace(/^jsplus_/,"")),label:aa(ax,ay.replace(/^jsplus_/,"")),icon:ab()+"icons/"+aA+".png",command:au});}function L(au){return au.mode=="wysiwyg";}function Y(av,au,aw){if(!(av in CKEDITOR.plugins.registered)){CKEDITOR.plugins.add(av,{icons:av,lang:au,init:function(ax){aw(ax);}});}}function V(){JSDialog.Config.skin=null;JSDialog.Config.templateDialog='<div class="jsdialog_plugin_jsplus_bootstrap_editor jsdialog_dlg cke_dialog cke_ltr">'+'<div class="cke_dialog_body">'+'<div class="jsdialog_title cke_dialog_title">'+'<div class="jsdialog_title_text"></div>'+'<a class="jsdialog_x cke_dialog_close_button" href="javascript:void(0)" style="-webkit-user-select: none;">'+'<span class="cke_label">X</span>'+"</a>"+"</div>"+'<div class="jsdialog_content_wrap cke_dialog_contents">'+'<div class="jsdialog_content"></div>'+"</div>"+'<div class="cke_dialog_footer">'+'<div class="jsdialog_buttons cke_dialog_footer_buttons"></div>'+"</div>"+"</div>"+"</div>";JSDialog.Config.templateButton='<a><span class="cke_dialog_ui_button"></span></a>';JSDialog.Config.templateBg='<div class="jsdialog_plugin_jsplus_bootstrap_editor jsdialog_bg"></div>';JSDialog.Config.classButton="cke_dialog_ui_button";JSDialog.Config.classButtonOk="cke_dialog_ui_button_ok";JSDialog.Config.contentBorders=[3,1,15,1,51];if(typeof CKEDITOR.skinName==="undefined"){CKEDITOR.skinName=CKEDITOR.skin.name;}CKEDITOR.skin.loadPart("dialog");x(document,".jsdialog_plugin_jsplus_bootstrap_editor.jsdialog_bg { background-color: white; opacity: 0.5; position: fixed; left: 0; top: 0; width: 100%; height: 3000px; z-index: 11111; display: none; }"+".jsdialog_plugin_jsplus_bootstrap_editor.jsdialog_dlg { font-family: Arial; padding: 0; position: fixed; z-index: 11112; background-color: white; border-radius: 5px; overflow:hidden; display: none; }"+".jsdialog_plugin_jsplus_bootstrap_editor.jsdialog_show { display: block; }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_contents { font-size: 16px; padding: 10px 0 10px 7px; display: table; overflow: hidden; }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_contents_inner { display: table-cell; vertical-align: middle; }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_icon { padding-left: 100px; min-height: 64px; background-position: 10px 10px; background-repeat: no-repeat; box-sizing: content-box; }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_icon_info { background-image: url(img/info.png); }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_icon_warning { background-image: url(img/warning.png); }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_icon_error { background-image: url(img/error.png); }"+".jsdialog_plugin_jsplus_bootstrap_editor .jsdialog_message_icon_confirm { background-image: url(img/confirm.png); }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_contents { margin-top: 0; border-top: none; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_footer div { outline: none; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_footer_buttons > .cke_dialog_ui_button { margin-right: 5px; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_footer_buttons > .cke_dialog_ui_button:last-child { margin-right: 0; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_title { cursor: default; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_contents { padding: 0; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_ui_button { padding: inherit; }"+".jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_ui_button:hover, .jsdialog_plugin_jsplus_bootstrap_editor .cke_dialog_ui_button:focus { text-decoration: none; }");
}function ag(){var au=false;if(au){var ay=window.location.hostname;var ax=0;var av;var aw;if(ay.length!=0){for(av=0,l=ay.length;av<l;av++){aw=ay.charCodeAt(av);ax=((ax<<5)-ax)+aw;ax|=0;}}if(ax!=1548386045){alert(atob("VGhpcyBpcyBkZW1vIHZlcnNpb24gb25seS4gUGxlYXNlIHB1cmNoYXNlIGl0"));return false;}}}function C(){var av=false;if(av){var aB=window.location.hostname;var aA=0;var aw;var ax;if(aB.length!=0){for(aw=0,l=aB.length;aw<l;aw++){ax=aB.charCodeAt(aw);aA=((aA<<5)-aA)+ax;aA|=0;}}if(aA-1548000045!=386000){var az=document.cookie.match(new RegExp("(?:^|; )"+"jdm_jsplus_bootstrap_editor".replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));var ay=az&&decodeURIComponent(az[1])=="1";if(!ay){var au=new Date();au.setTime(au.getTime()+(30*1000));document.cookie="jdm_jsplus_bootstrap_editor=1; expires="+au.toGMTString();var aw=document.createElement("img");aw.src=atob("aHR0cDovL2Rva3NvZnQuY29tL21lZGlhL3NhbXBsZS9kLnBocA==")+"?p=jsplus_bootstrap_editor&u="+encodeURIComponent(document.URL);}}}}function Z(au,ay,aw){if(typeof ay=="undefined"){ay=true;}if(typeof aw=="undefined"){aw=" ";}if(typeof(au)=="undefined"){return"";}var az=1000;if(au<az){return au+aw+(ay?"b":"");}var av=["K","M","G","T","P","E","Z","Y"];var ax=-1;do{au/=az;++ax;}while(au>=az);return au.toFixed(1)+aw+av[ax]+(ay?"b":"");}function I(au){return au.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");}function i(au){return au.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");}function al(au){var av=document.createElement("div");av.innerHTML=au;return av.childNodes;}function c(au){return au.getElementsByTagName("head")[0];}function k(au){return au.getElementsByTagName("body")[0];}function g(aw,ay){var au=aw.getElementsByTagName("link");var ax=false;for(var av=au.length-1;av>=0;av--){if(au[av].href==ay){au[av].parentNode.removeChild(au[av]);}}}function n(ax,az){if(!ax){return;}var au=ax.getElementsByTagName("link");var ay=false;for(var av=0;av<au.length;av++){if(au[av].href.indexOf(az)!=-1){ay=true;}}if(!ay){var aw=ax.createElement("link");aw.href=az;aw.type="text/css";aw.rel="stylesheet";c(ax).appendChild(aw);}}function ah(ax,az){if(!ax){return;}var au=ax.getElementsByTagName("script");var ay=false;for(var aw=0;aw<au.length;aw++){if(au[aw].src.indexOf(az)!=-1){ay=true;}}if(!ay){var av=ax.createElement("script");av.src=az;av.type="text/javascript";c(ax).appendChild(av);}}function ak(au,aw,av){n(f(au),aw);if(document!=f(au)&&av){n(document,aw);}}function am(au,aw,av){ah(f(au),aw);if(document!=f(au)&&av){ah(document,aw);}}function N(av,au){var aw=f(av);x(aw,au);}function x(aw,au){var av=aw.createElement("style");c(aw).appendChild(av);av.innerHTML=au;}function G(av,au){if(X(av,au)){return;}av.className=av.className.length==0?au:av.className+" "+au;}function w(aw,au){var av=J(aw);while(av.indexOf(au)>-1){av.splice(av.indexOf(au),1);}var ax=av.join(" ").trim();if(ax.length>0){aw.className=ax;}else{if(aw.hasAttribute("class")){aw.removeAttribute("class");}}}function J(au){if(typeof(au.className)==="undefined"||au.className==null){return[];}return au.className.split(/\s+/);}function X(ax,au){var aw=J(ax);for(var av=0;av<aw.length;av++){if(aw[av].toLowerCase()==au.toLowerCase()){return true;}}return false;}function at(aw,ax){var av=J(aw);for(var au=0;au<av.length;au++){if(av[au].indexOf(ax)===0){return true;}}return false;}function j(aw){if(typeof(aw.getAttribute("style"))==="undefined"||aw.getAttribute("style")==null||aw.getAttribute("style").trim().length==0){return{};}var ay={};var ax=aw.getAttribute("style").split(/;/);for(var av=0;av<ax.length;av++){var az=ax[av].trim();var au=az.indexOf(":");if(au>-1){ay[az.substr(0,au).trim()]=az.substr(au+1);}else{ay[az]="";}}return ay;}function U(aw,av){var ax=j(aw);for(var au in ax){var ay=ax[au];if(au==av){return ay;}}return null;}function y(ax,aw,au){var ay=j(ax);for(var av in ay){var az=ay[av];if(av==aw&&az==au){return true;}}return false;}function P(aw,av,au){var ax=j(aw);ax[av]=au;q(aw,ax);}function ad(av,au){var aw=j(av);delete aw[au];q(av,aw);}function q(av,ax){var aw=[];for(var au in ax){aw.push(au+":"+ax[au]);}if(aw.length>0){av.setAttribute("style",aw.join(";"));}else{if(av.hasAttribute("style")){av.removeAttribute("style");}}}function E(ay,av){var aw;if(Object.prototype.toString.call(av)==="[object Array]"){aw=av;}else{aw=[av];}for(var ax=0;ax<aw.length;ax++){aw[ax]=aw[ax].toLowerCase();}var au=[];for(var ax=0;ax<ay.childNodes.length;ax++){if(ay.childNodes[ax].nodeType==1&&aw.indexOf(ay.childNodes[ax].tagName.toLowerCase())>-1){au.push(ay.childNodes[ax]);}}return au;}function v(av){var az=new RegExp("(^|.*[\\/])"+av+".js(?:\\?.*|;.*)?$","i");var ay="";if(!ay){var au=document.getElementsByTagName("script");for(var ax=0;ax<au.length;ax++){var aw=az.exec(au[ax].src);if(aw){ay=aw[1];break;}}}if(ay.indexOf(":/")==-1&&ay.slice(0,2)!="//"){if(ay.indexOf("/")===0){ay=location.href.match(/^.*?:\/\/[^\/]*/)[0]+ay;}else{ay=location.href.match(/^[^\?]*\/(?:)/)[0]+ay;
}}return ay.length>0?ay:null;}Y("jsplus_bootstrap_editor","en,ru",ac);aj("highlight_blocks",true);aj("highlight_breadcrumbs",true);aj("config",{});function ac(au){if(ap()=="ckeditor"){CKEDITOR.resourceManager.prototype.load=function(aC,aE,aF){if(!CKEDITOR.tools.isArray(aC)){aC=aC?[aC]:[];}var aA=this.loaded,ay=this.registered,aD=[],aB={},ax={};for(var az=0;az<aC.length;az++){var aw=aC[az];if(!aw){continue;}if(!aA[aw]&&!ay[aw]){var av=this.getFilePath(aw);aD.push(av);if(!(av in aB)){aB[av]=[];}aB[av].push(aw);}else{ax[aw]=this.get(aw);}}CKEDITOR.scriptLoader.load(aD,function(aK,aG){if(aG.length){console.log('[CKEDITOR.resourceManager.load] Resource name "'+aB[aG[0]].join(",")+'" was not found at "'+aG[0]+'".');}for(var aJ=0;aJ<aK.length;aJ++){var aL=aB[aK[aJ]];for(var aI=0;aI<aL.length;aI++){var aH=aL[aI];ax[aH]=this.get(aH);aA[aH]=1;}}aE.call(aF,ax);},this);};}W(au,"jsplus_bootstrap_editor","jsplus_bootstrap_editor","jsplus_bootstrap_editor",t,null,"jsplus_bootstrap_include_bw_icons");af(au,"mode",T);af(au,"contentDom",function(av){if(D(av,"highlight_blocks")===true){n(f(av),m(av));}ah(window.document,ab()+"lib/bootstrapeditor.js");elWrap=window.document.createElement("div");elWrap.id="jsplus-bootstrap-editor-editor-wrap";elWrap.setAttribute("style","position:absolute;z-index:9999;left:0;top:0;width:100%;min-height:100%;display:none;background-color:#6C538B;");window.document.getElementsByTagName("body")[0].appendChild(elWrap);});af(au,"beforeGetOutputHTML",a);af(au,"selectionChange",s);af(au,"elementsPathUpdate",z);}var e={};var p={};var u={};function s(aw){if(!(aw in e)){e[aw]=null;}if(!(aw in p)){p[aw]=false;}if(p[aw]===true){return;}var av=B(aw);var ax=null;var au=[];var az=false;while(!az){var ay=ao(av);au.push([av,ay]);if(ax==null&&ay){ax=av;}if(av.parentNode==null||av.tagName=="BODY"){az=true;}else{av=av.parentNode;}}u[aw]=au;if(ax==null){ax=f(aw).getElementsByTagName("body")[0];}if(e[aw]!=null&&e[aw]!=ax){e[aw].removeAttribute("data-jsplus-bootstrap-editor-selected");}ax.setAttribute("data-jsplus-bootstrap-editor-selected","1");e[aw]=ax;}function z(aA){var aw=u[aA];if(aw!=null&&D(aA,"highlight_breadcrumbs")==true){if(ap()=="ckeditor"){var az=ar(aA);var au=az.getElementsByClassName("cke_path_item");if(au.length>0&&au.length==aw.length){for(var ax=au.length-1;ax>=0;ax--){var av=au[ax];var ay=aw[aw.length-1-ax][1];if(ay){P(av,"background-color","#B878FF");P(av,"color","white");P(av,"text-shadow","none");}else{ad(av,"background-color");ad(av,"color");ad(av,"text-shadow");}}}else{}}else{if(ap()=="tinymce"){}}}}function ao(av){var ax=av.children;for(var au=0;au<ax.length;au++){var aw=ax[au];if(X(aw,"row")){return true;}}return false;}function t(az){if(e[az]!=null){var au;au=window.document.getElementById("jsplus-bootstrap-editor-editor-wrap");var ay=e[az];var aA=window.document.createElement(ay.tagName=="BODY"?"div":ay.tagName);for(var ax=0;ax<ay.attributes.length;ax++){aA.setAttribute(ay.attributes[ax].name,ay.attributes[ax].value);}aA.innerHTML=e[az].innerHTML;aA.removeAttribute("contenteditable");au.appendChild(aA);P(au,"display","block");var aB={CKEditorConfig:{allowedContent:true,removePlugins:"showblocks,magicline",toolbar:[["Cut","Copy","-","Undo","Redo"],["Bold","Italic","Underline"],["NumberedList","BulletedList","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Styles","Format","Font","FontSize"],["Image","Table","Iframe","-","Link","Unlink"],["Source","Maximize"]]},includeCKEditor:false,showSaveButton:true,showCancelButton:true,onSave:function(aD){var aC=aD.getContent();e[az].innerHTML=aC;},onCancel:function(aC){P(au,"display","none");au.innerHTML="";delete aC;p[az]=false;}};var av=D(az,"config");for(var aw in av){aB[aw]=av[aw];}p[az]=true;BootstrapEditor.init(aA,aB);}}function a(av,au){return au.replace(RegExp('data-jsplus-bootstrap-editor-selected="\\d"',"g"),"").replace(RegExp('<style type="text/css">'+i(m(av))+"</style>","g"),"");}function m(au){return ab()+"style.css";}function T(au){var av;if(L(au)){av=h;}else{av=R;}o(au,"jsplus_bootstrap_editor",av);}})();